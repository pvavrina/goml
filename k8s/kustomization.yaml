# kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
# CRD Traefik MUST be applied first
- traefik/traefik-crd-full.yaml

# Traefik Resources
- traefik/middleware-redirect.yaml

# Cert-Manager Resources
- cert-manager/issuer-selfsigned.yaml

# PostgreSQL Database for Strapi
- strapi-db/postgres-pvc.yaml
- strapi-db/postgres-deployment.yaml
- strapi-db/postgres-service.yaml

# Strapi Application
- strapi-app/strapi-deployment.yaml
- strapi-app/strapi-service.yaml

# Strapi Network
- strapi-network/strapi-ingress.yaml

# Go Service Resources
- goml-api/deployment.yaml  
- goml-service/connection.yaml
- goml-network/ingress.yaml

# ðŸš€ Angular Frontend Resources
- angular-app/deployment.yaml
- angular-service/connection.yaml
- angular-network/ingress.yaml

# MLflow Tracking Server Resources
#- mlflow-storage/pvc.yaml
#- mlflow-app/deployment.yaml
#- mlflow-service/connection.yaml
#- mlflow-network/network-policy.yaml
#- mlflow-network/stripprefix.yaml
#- mlflow-network/ingress.yaml

# PostgreSQL Service
# Enables CoreDNS name resolution for MLflow and GoML application database access.
- postgres/service.yaml
